<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gacha OC/Persona 1.0</title>
<p class="subtitle">@salaluak present</p>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --green: #28a745;
    --green-dark: #218838;
    --bg1: #ffffff;
    --bg2: #d6ecff;
    --card-w: 180px;
    --card-h: 240px;
    --gold-gradient: linear-gradient(90deg,#b8860b,#ffd700);
    --purple-gradient: linear-gradient(90deg,#7b2cbf,#b892e6);
  }
  *{box-sizing:border-box}
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
    padding: 28px;
    background: linear-gradient(135deg, var(--bg1), var(--bg2));
    color: #072034;
  }
  h1 {
    font-size: 3rem;
    margin: 6px 0 0 0;
    color: #023e6b;
    text-shadow: 0 3px 10px rgba(2,62,107,0.08);
    letter-spacing: 1px;
    transition: opacity 0.3s ease;
  }
  .subtitle {
  font-size: 0.9rem; /* kecil */
  margin: 2px 0 10px 0;
  color: #555;
  font-weight: 400;
}

  .top-image {
    width: 260px;
    height: 190px;
    object-fit: cover;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(2,62,107,0.08);
    background: #eee;
    transition: opacity 0.3s ease;
  }
  #drawBtn {
    background: var(--green);
    color: white;
    border: none;
    padding: 12px 28px;
    border-radius: 10px;
    font-size: 1.05rem;
    cursor: pointer;
    box-shadow: 0 6px 18px rgba(40,167,69,0.18);
    transition: transform 0.14s ease, background 0.14s;
  }
  #drawBtn:active {
    transform: translateY(1px);
  }
  #drawBtn:disabled {
    background: gray;
    cursor: not-allowed;
    box-shadow: none;
    transform: none;
  }
  #drawBtn:hover:not(:disabled) {
    background: var(--green-dark);
  }
  .loading-container {
    display: none;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    margin-top: 6px;
    width: 260px;
    height: 14px;
    position: relative;
  }
  .loading-text {
    color: var(--green);
    font-weight: 600;
  }
  /* Animasi loading baru */
  .loading-anim {
    width: 100%;
    height: 14px;
    border-radius: 12px;
    background: #eee;
    overflow: hidden;
    position: relative;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
  }
  .loading-bar-move {
    position: absolute;
    top: 0; left: -30%;
    width: 30%;
    height: 100%;
    border-radius: 12px;
    animation: loadingMove 1.2s linear infinite;
    filter: drop-shadow(0 0 3px rgba(0,0,0,0.1));
    background: var(--green);
    box-shadow: 0 0 8px rgba(40,167,69,0.6);
    transition: background 0.5s ease, box-shadow 0.5s ease;
  }
  .loading-bar-gold {
    background: var(--gold-gradient);
    box-shadow: 0 0 12px #ffd700;
  }
  .loading-bar-purple {
    background: var(--purple-gradient);
    box-shadow: 0 0 12px #b892e6;
  }
  @keyframes loadingMove {
    0% { left: -30%; }
    100% { left: 100%; }
  }
  .result-container {
    display: none;
    width: 100%;
    max-width: 920px;
    text-align: center;
    margin-top: 8px;
  }
  .result-container h2 {
    font-weight: 600;
    margin: 6px 0 10px;
    color: #023e6b;
  }
  /* === MODIFIKASI DISINI === */
  .cards {
    display: grid;
    grid-template-columns: repeat(3, minmax(120px, 1fr)); /* desktop: 3 kartu sebaris */
    gap: 18px 24px;
    justify-items: center;
    align-items: start;
    grid-template-areas: "pos0 pos1 pos2"; /* posisi default */
  }
  .card-wrapper.pos-0 { grid-area: pos0; }
  .card-wrapper.pos-1 { grid-area: pos1; }
  .card-wrapper.pos-2 { grid-area: pos2; }
  @media (max-width: 640px) {
    .cards {
      grid-template-columns: repeat(2, 1fr); /* hp: 2 kolom */
      grid-template-areas:
        "pos0 pos1"
        "pos2 pos2"; /* baris kedua kartu ketiga full lebar */
    }
    .card-wrapper.pos-2 .card {
      width: 100% !important; /* full lebar di hp */
      height: auto;
      aspect-ratio: 3 / 4;
    }
  }
  /* === END MODIFIKASI === */

  .card-wrapper {
    width: var(--card-w);
    text-align: center;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }
  .card-wrapper.show {
    opacity: 1;
    transform: translateY(0);
  }
  /* Hapus definisi grid-area lama supaya grid-template-areas bekerja sempurna */
  /*
  .pos-0{ grid-area:1 / 1 / 2 / 2; }
  .pos-1{ grid-area:1 / 2 / 2 / 3; }
  .pos-2{ grid-area:2 / 1 / 3 / 3; }
  .pos-2 .card{ width: calc(var(--card-w) * 1.15); height: calc(var(--card-h) * 1.05); }
  */
  .card {
    width: var(--card-w);
    height: var(--card-h);
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    background-size: cover;
    background-position: center;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding-bottom: 10px;
    transition: transform 0.26s cubic-bezier(.2,.9,.2,1);
  }
  .card:hover {
    transform: translateY(-6px);
  }
  .rarity-label {
    position: absolute;
    left: 8px;
    bottom: 8px;
    font-weight: 700;
    color: white;
    padding: 6px 8px;
    border-radius: 8px;
    font-size: 1.05rem;
    text-shadow: 0 2px 8px rgba(0,0,0,0.45);
    box-shadow: 0 4px 14px rgba(0,0,0,0.18);
  }
  .frame-gold {
    border: 4px solid rgba(255,215,0,0.95);
    box-shadow: 0 6px 22px rgba(255,215,0,0.12), inset 0 0 18px rgba(255,240,180,0.12);
    animation: shimmerGold 2.2s infinite linear;
  }
  .frame-purple {
    border: 4px solid rgba(142,68,173,0.95);
    box-shadow: 0 6px 22px rgba(142,68,173,0.12), inset 0 0 18px rgba(200,150,220,0.09);
    animation: shimmerPurple 2.2s infinite linear;
  }
  @keyframes shimmerGold {
    0% { filter: brightness(1); box-shadow: 0 6px 22px rgba(255,215,0,0.08); }
    50% { filter: brightness(1.06); box-shadow: 0 10px 36px rgba(255,215,0,0.18); }
    100% { filter: brightness(1); box-shadow: 0 6px 22px rgba(255,215,0,0.08); }
  }
  @keyframes shimmerPurple {
    0% { filter: brightness(1); box-shadow: 0 6px 22px rgba(142,68,173,0.08); }
    50% { filter: brightness(1.04); box-shadow: 0 10px 36px rgba(142,68,173,0.16); }
    100% { filter: brightness(1); box-shadow: 0 6px 22px rgba(142,68,173,0.08); }
  }
  .char-name {
    margin-top: 10px;
    font-weight: 600;
    font-size: 0.95rem;
    color: #072034;
  }
  .char-author {
    margin-top: 4px;
    font-size: 0.78rem;
    color: #5b6670;
  }
  @media (max-width: 640px) {
    :root {
      --card-w: 140px;
      --card-h: 190px;
    }
    /* grid sudah diatur di atas */
  }
</style>
</head>
<body>

  <h1 id="mainTitle">Gacha OC 1.0</h1>
  <img class="top-image" id="mainImg" src="front.gif" alt="Main GIF">

  <button id="drawBtn">Draw</button>

  <div class="loading-container" id="loading" aria-live="polite" aria-busy="true" aria-label="Loading animation">
    <div class="loading-anim">
      <div class="loading-bar-move" id="loadingBar"></div>
    </div>
  </div>

  <div class="result-container" id="result" aria-live="polite">
    <h2>Congrats, you got:</h2>
    <div class="cards" id="cards"></div>
  </div>

<script>
const characters = [
  { src: "Alexza.jpeg", rarity: "A", name: "Alexza", author: "@salaluak" },
  { src: "Alexza.jpeg", rarity: "A", name: "Alexza", author: "@salaluak" },
  { src: "Fira.jpeg", rarity: "S", name: "Fira", author: "@salaluak" },
  { src: "Amia.jpeg", rarity: "A", name: "Amia", author: "@whitehatillust" },
  { src: "Amia.jpeg", rarity: "A", name: "Amia", author: "@whitehatillust" },
  { src: "Via.jpeg", rarity: "A", name: "Via", author: "@vierto.art.p" },
  { src: "Suke.jpeg", rarity: "A", name: "Sukehiro", author: "@sukehiro_kerupuk" },
  { src: "Rista.jpeg", rarity: "A", name: "Rista", author: "@sukehiro_kerupuk" },
  { src: "Aghni.jpeg", rarity: "S", name: "Aghni", author: "@djatiwaru" },
  { src: "Kyuuvy.jpeg", rarity: "A", name: "Kyuuvy", author: "@kyuzyart_" },
  { src: "Kenshi.jpeg", rarity: "S", name: "Kenshi", author: "@cloudyyyr" },
  { src: "Vierto.jpeg", rarity: "A", name: "Vierto", author: "@vierto.art.p" },
  { src: "Vierto.jpeg", rarity: "A", name: "Vierto", author: "@vierto.art.p" },
  { src: "Gatot.jpeg", rarity: "A", name: "Gatot", author: "@gatot" },
  { src: "Ambatron.jpeg", rarity: "A", name: "Ambatron", author: "@thedreamybull_only" },
  { src: "Goblin.jpeg", rarity: "A", name: "Goblil", author: "@gtw" },
  { src: "Charlotte.jpeg", rarity: "S", name: "Charlotte", author: "@sakimim110" },
  { src: "Dewi.jpeg", rarity: "A", name: "Dewi", author: "@invisible0910" },
  { src: "Emi.jpeg", rarity: "S", name: "Emi (my)", author: "@14.fins_s" },
  { src: "Gavi.jpeg", rarity: "A", name: "Gavi", author: "@vladeesteba" },
  { src: "KUN.jpeg", rarity: "A", name: "KUN", author: "@kun._nyitasem" },
  { src: "Kusmini.jpeg", rarity: "S", name: "Kusmini", author: "@iam_jeje01" },
  { src: "Lethe.jpeg", rarity: "S", name: "Lethe", author: "@valgungap" },
  { src: "Liny.jpeg", rarity: "A", name: "Liny", author: "@sinzy_art" },
  { src: "Ryuu.jpeg", rarity: "A", name: "Ryuu", author: "sinzy_art" },
  { src: "Ryuu.jpeg", rarity: "A", name: "Ryuu", author: "sinzy_art" },
  { src: "Rain.jpeg", rarity: "A", name: "Rain", author: "@only_painted" },
  { src: "Raiona.jpeg", rarity: "A", name: "Raiona", author: "@hadesz" },
  { src: "Rye.jpeg", rarity: "A", name: "Rye", author: "@timpancoklat" },
  { src: "Saki.jpeg", rarity: "A", name: "Saki", author: "@sakiirisu" },
  { src: "Sesil.jpeg", rarity: "A", name: "Sesil", author: "@garam_art_404" },
  { src: "Whitey.jpeg", rarity: "A", name: "Whitey", author: "@whitehatillust" },
  { src: "Yeonnah.jpeg", rarity: "A", name: "Yeonnah", author: "@yeoonghann12" },
  { src: "Zoelto.jpeg", rarity: "A", name: "Zoelto", author: "@rrufufuru" },
  { src: "Zelphas.jpeg", rarity: "A", name: "Zelphas", author: "@zelphasart" },

  { src: "-Yuusha.jpeg", rarity: "S", name: "Yuusha", author: "@khaismazero000" },
  { src: "-184.jpeg", rarity: "A", name: "184", author: "@ep___iu8" },
  { src: "-Ais.jpeg", rarity: "A", name: "Ais", author: "@no_nam3_1111" },
  { src: "-Al-Abid.jpeg", rarity: "S", name: "Al-Abid", author: "@subhan_animation" },
  { src: "-Alya.jpeg", rarity: "A", name: "Alya", author: "@arga_artdrawing" },
  { src: "-Ery.jpeg", rarity: "A", name: "Ery", author: "@arga_artdrawing" },
  { src: "-Ashrel.jpeg", rarity: "A", name: "Ashrel", author: "@woka_taste" },
  { src: "-Ayashi.jpeg", rarity: "A", name: "Ayashi", author: "@jembutayam_" },
  { src: "-Cindy.jpeg", rarity: "A", name: "Cindy", author: "@just_rundy" },
  { src: "-Daoa.jpeg", rarity: "A", name: "Daoa", author: "@dapp._zz" },
  { src: "-Giovanni.jpeg", rarity: "A", name: "Giovanni", author: "@artdizzz_" },
  { src: "-Gyan.jpeg", rarity: "A", name: "Gyan", author: "@gyansensei" },
  { src: "-Hoshiro.jpeg", rarity: "A", name: "Hoshiro", author: "@shydrangea.shin" },
  { src: "-Ishera.jpeg", rarity: "A", name: "Ishera", author: "@__grimth__" },
  { src: "-Serphina.jpeg", rarity: "A", name: "Serphina", author: "@kuro_san15" },
  { src: "-Isjip.jpeg", rarity: "A", name: "Isjip", author: "@isgiv34.v2" },
  { src: "-Kanada.jpeg", rarity: "A", name: "Kanada", author: "@indonesian_comrade.v2" },
  { src: "Rui.jpeg", rarity: "A", name: "Rui", author: "@helmyindomiegorengpakekuah" },
  { src: "-Ki-iki.jpeg", rarity: "A", name: "Ki-iki", author: "@kiiki_art0" },
  { src: "-Kinna.jpeg", rarity: "A", name: "Kinna", author: "@anzsu125" },
  { src: "-Kiyo.jpeg", rarity: "A", name: "Kiyo", author: "@moussakakeos" },
  { src: "-Kurono.jpeg", rarity: "A", name: "Kurono", author: "@f.hni09" },
  { src: "-Leinad.jpeg", rarity: "A", name: "Leinad", author: "@leinadeez_nutz" },
  { src: "-Leona.jpeg", rarity: "S", name: "Leona", author: "@kohane.sketch" },
  { src: "-Liv.jpeg", rarity: "S", name: "Liv", author: "@ibrah.illust" },
  { src: "-Lyra.jpeg", rarity: "A", name: "Lyra", author: "@fandhika216" },
  { src: "-Mr Dox.jpeg", rarity: "A", name: "Mr Dox", author: "@ikisai41" },
  { src: "-Putri.jpeg", rarity: "A", name: "Putri", author: "@bakeudmeledak" },
  { src: "-Nyra.jpeg", rarity: "S", name: "Nyra", author: "@rey_mrd" },
  { src: "-Rainbow Muffin.jpeg", rarity: "S", name: "Rainbow Muffin", author: "@joblessdodo" },
  { src: "-Rei.jpeg", rarity: "A", name: "Rei", author: "@_.helium.299" },
  { src: "-Sheila.jpeg", rarity: "A", name: "Sheila", author: "@pinkieloveablee" }, 
    { src: "-Tenshuke.jpeg", rarity: "A", name: "Tenshuke", author: "@tawakalgunawan" },
    { src: "-Yukino.jpeg", rarity: "S", name: "Yukino", author: "@kepincox" },
    { src: "-Valer.jpeg", rarity: "A", name: "Valer", author: "@valgungap" },
    { src: "-Veruna.jpeg", rarity: "A", name: "Veruna", author: "@_rikuukiku" },
    { src: "-Vine.jpeg", rarity: "A", name: "Vine", author: "@zilo.glow" },
    { src: "-Wirasaba.jpeg", rarity: "A", name: "Wirasaba", author: "@dzk_931" },
    { src: "-Yumia.jpeg", rarity: "A", name: "Yumia", author: "@lucifsal_" },
    { src: "-Lydia.jpeg", rarity: "A", name: "Lydia", author: "@_xen0non" },
    { src: "-Ayane.jpeg", rarity: "A", name: "Ayane", author: "@yukokikoo...o_artz" },
    { src: "-Alice.jpeg", rarity: "S", name: "Alice", author: "@mr_random_people" },
   { src: "-Alisa.jpeg", rarity: "A", name: "Alisa", author: "@lofigulung_art" },
   { src: "Superman.jpeg", rarity: "S", name: "Superman", author: "@dc" },
   { src: "Inah.jpeg", rarity: "S", name: "Inah", author: "@inah.komik" },
   { src: "Ika.jpeg", rarity: "S", name: "Ika Gayou", author: "@ikagayou_07" },
   { src: "Naia.jpeg", rarity: "S", name: "Naia", author: "@varose_chan" },
  { src: "KC.jpeg", rarity: "A", name: "Kepala Charger", author: "@buatngecas" },
  { src: "SN.jpeg", rarity: "S", name: "Sendok Nasi", author: "@buatambilnasi" },
  { src: "Serith.jpeg", rarity: "A", name: "Serith", author: "@erya.ate" },


];

let drawCount = 0;
const MAX_DRAWS = 2;

const drawBtn = document.getElementById('drawBtn');
const loading = document.getElementById('loading');
const loadingBar = document.getElementById('loadingBar');
const result = document.getElementById('result');
const cardsWrap = document.getElementById('cards');
const mainTitle = document.getElementById('mainTitle');
const mainImg = document.getElementById('mainImg');

function pickRandom(arr, n) {
  const copy = arr.slice();
  const res = [];
  for (let i = 0; i < n && copy.length > 0; i++) {
    const idx = Math.floor(Math.random() * copy.length);
    res.push(copy.splice(idx, 1)[0]);
  }
  return res;
}

function clearCards() {
  cardsWrap.innerHTML = '';
}

function createCardElement(char, posIndex) {
  const wrapper = document.createElement('div');
  wrapper.className = 'card-wrapper pos-' + posIndex;

  const card = document.createElement('div');
  card.className = 'card ' + (char.rarity === 'S' ? 'frame-gold' : 'frame-purple');
  card.style.backgroundImage = `url("${char.src}")`;

  if (char.rarity) {
    const rlab = document.createElement('div');
    rlab.className = 'rarity-label';
    rlab.textContent = char.rarity;
    if (char.rarity === 'S') {
      rlab.style.background = 'linear-gradient(90deg,#b8860b,#ffd700)';
      rlab.style.color = '#111';
    } else {
      rlab.style.background = 'linear-gradient(90deg,#7b2cbf,#b892e6)';
      rlab.style.color = '#fff';
    }
    card.appendChild(rlab);
  }

  wrapper.appendChild(card);

  const nameEl = document.createElement('div');
  nameEl.className = 'char-name';
  nameEl.textContent = char.name || 'Unknown';

  const authorEl = document.createElement('div');
  authorEl.className = 'char-author';
  authorEl.textContent = char.author ? 'by ' + char.author : '';

  wrapper.appendChild(nameEl);
  wrapper.appendChild(authorEl);

  return wrapper;
}

drawBtn.addEventListener('click', async () => {
  if (drawCount >= MAX_DRAWS) return;

  drawCount++;
  drawBtn.disabled = true;
  result.style.display = 'none';
  clearCards();

  mainTitle.style.opacity = '0';
  mainImg.style.opacity = '0';

  loading.style.display = 'flex';

  const tempPicked = pickRandom(characters, 3);
  const hasS = tempPicked.some(c => c.rarity === 'S');

  if (hasS) {
    loadingBar.classList.remove('loading-bar-purple');
    loadingBar.classList.add('loading-bar-gold');
  } else {
    loadingBar.classList.remove('loading-bar-gold');
    loadingBar.classList.add('loading-bar-purple');
  }

  await new Promise(res => setTimeout(res, 2000));

  loading.style.display = 'none';

  tempPicked.forEach((c, i) => {
    const el = createCardElement(c, i);
    cardsWrap.appendChild(el);
    setTimeout(() => el.classList.add('show'), i * 150);
  });

  result.style.display = 'block';

  if (drawCount < MAX_DRAWS) {
    drawBtn.disabled = false;
    drawBtn.textContent = 'Draw Again';
  } else {
    drawBtn.disabled = true;
    drawBtn.textContent = 'No More Draws';
  }

  mainTitle.style.opacity = '1';
  mainImg.style.opacity = '1';
});
</script>

</body>
</html>  












